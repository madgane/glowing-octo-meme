
To minimize the total number of backlogged packets, we consider minimizing weighted \me{\ell_{q}}-norm of all the queue deviation given by
\begin{equation}
v_k =  Q_k - t_k = Q_k - \sum_{n = 1}^N \sum_{l = 1}^{L} \log_2(1+\gamma_{l,k,n})
\label{eqn-4.2}
\end{equation}
Explicitly, the considered problem is given by \me{\sum_{k \in \mc{U}} \, a_k | v_k |^q}. With this objective, the problem of weighted queued packet minimization is given by
\begin{IEEEeqnarray}{rCl}\label{eqn-3}
\underset{\substack{\mvec{M}{k,n},\mvec{W}{k,n}}}{\text{minimize}} &\quad& \|  \tilde{\mbf{v}}  \|_q\IEEEyessubnumber \\
\text{subject to} & \quad&\sum_{n = 1}^N \sum_{k \in \mathcal{U}_b} \text{tr} \, (\mvec{M}{k,n} \mvec{M}{k,n}^\herm) \leq P_{{\max}}, \fall b \IEEEyessubnumber \label{eqn-4.3}
\end{IEEEeqnarray}
where \me{\tilde{v}_k \triangleq a_k^{1/{q}}v_k}, and \me{a_k} is the weighting factor which is incorporated to control user priority based on their respective \ac{QoS}, \me{\mbf{M}_{k,n} \triangleq [ \, \mvec{m}{1,k,n} \, \mvec{m}{2,k,n} \dotsc \mvec{m}{L,k,n} \,]} comprises the beamformers associated with the user \me{k} for \me{n^\mathrm{th}} sub-channel transmission, and \me{\mbf{W}_{k,n} \triangleq [ \, \mvec{w}{1,k,n} \, \mvec{w}{2,k,n} \dotsc \mvec{w}{L,k,n} \,]} stacks the receive beamformers respectively\footnote{It can be easily extended for user specific streams \me{L_{k,n}} instead of using the common \me{L} streams for all users}. In \eqref{eqn-4.3}, we consider a \ac{BS} specific sum power constraint for each \ac{BS} across all sub-channels.

For practical and tractability reasons, we may impose a constraint that the maximum number of transmitted bits for the user \me{k} is limited by the total backlogged packets available at the transmitter. As a result, the number of backlogged packets \me{v_k} remaining in the system for the user \me{k} is given by
\begin{equation} \label{rate_constraint_a}
v_k =  Q_k - \sum_{n = 1}^N \sum_{l = 1}^{L} \log_2(1+\gamma_{l,k,n}) \geq 0
\end{equation}
The above positivity constraint need to be satisfied by \me{v_k} to avoid the excessive allocation of the resources.

Before proceeding further, we note that the constraint in \eqref{rate_constraint_a} is handled implicitly by the definition of the \me{\ell_q} in the objective of \eqref{eqn-3}. As a proof, suppose that \me{t_k>Q_k} for a certain \me{k} at optimum, i.e., \me{-{v}_k=t_k-Q_k>0}. Then there exists \me{\delta_k>0} such that \me{-{v}^{\prime}_k=t^{\prime}_k-Q_k<-{v}_k} where \me{t^{\prime}_k=t_k-\delta_k}. Since \me{\|\tilde{\mbf{v}}\|_q=\| |\tilde{\mbf{v}}| \|_q=\||-\tilde{\mbf{v}}|\|_q}, this means that the newly created vector \me{\mbf{t}^{\prime}} achieves a smaller objective which contradicts with the fact that an optimal solution has been obtained. The choice of the norm \me{\ell_q} used in the objective function \cite{berry2004cross,qps_cioffi} alters the priorities for the queue deviation function as
\begin{itemize}
\item With \me{\ell_{q = 1}}, the objective results in greedy allocation \textit{i.e}, emptying the queue of users with good channel condition before considering the users with worse channel conditions. As a special case, it is easy to see that \eqref{eqn-3} reduces to the \ac{WSRM} problem \eqref{gen_sum} when the queue size is large enough for all users.
\item With \me{\ell_{q = 2}}, the objective prioritizes users with higher number of queued packets before considering the users with a smaller number of backlogged packets. For example, it could be more ideal for the delay limited scenario when the packet arrival rates of the users are similar, since the backlogged packets is proportional to the delay in the transmission following the Little's law \cite{neely2010stochastic}.
\item With \(\ell_{q = \infty} \), the objective minimizes the maximum number of queued packets among users with the current transmission, thereby providing queue fairness by allocating the resources proportional to the number of backlogged packets.
\end{itemize} 