In order to minimize the number of queued packets at the \acp{BS}, the precoders \me{\mbf{M}_{k,n}} are designed to distribute the resources in an efficient manner to the users by utilizing both spatial and frequency dimension. The problem defined in \eqref{q_gen_sum} raises a question, namely, the linearity of the weights used in the objective function. It can also be a quadratic function, providing more emphasis on the users with large number queued packets as compared to the users with the small queue sizes or some other function of \me{\mbf{Q}}. In order to answer this question, we discuss the \ac{JSFRA} problem formulation, which restricts the solution only to the power functions. For practical and tractability reasons, we impose a constraint that the maximum number of transmitted bits for the user \me{k} is limited by the packets available at the transmitter. As a result, the number of backlogged packets remaining in the system is given by
\begin{equation}
v_k =  Q_k - \sum_{n = 1}^N \sum_{l = 1}^{L} \log_2(1+\gamma_{l,k,n}) \geq 0 \fall k \in \mathcal{U}.
\label{eqn-4.2}
\end{equation}

The precoder design problem can be given minimizing the absolute value of the deviation in \eqref{eqn-4.2} raised to the exponent \me{q} as
\me{\text{minimize} \: \sum_{k \in \mc{U}} \, | v_k |^q}. The exponent \me{q} plays a vital role in the final allocation, which will be discussed later. Now, the problem of weighted queued packet minimization formulated as a $q$-norm minimization, is given by
\begin{IEEEeqnarray}{rCl}\label{eqn-3}
\underset{\substack{\mvec{m}{l,k,n},\\\mvec{w}{l,k,n}}}{\text{minimize}} &\quad& \|  \tilde{\mbf{v}}  \|_q\IEEEyessubnumber \\
\text{subject to} & \quad&\sum_{n = 1}^N \sum_{k \in \mathcal{U}_b} \text{tr} \, (\mvec{M}{k,n} \mvec{M}{k,n}^\herm) \leq P_{{\max}}, \fall b, \IEEEyessubnumber \label{eqn-4.3}
\end{IEEEeqnarray}
where \me{\tilde{v}_k \triangleq a_k^{1/{q}}v_k}, \me{a_k} is the weighting factor which is incorporated to control user priority based on their respective \ac{QoS}, \me{\gamma_{l,k,n}} is defined in \eqref{eq:SINR}, and \me{\mbf{M}_{k,n} \triangleq [ \, \mvec{m}{1,k,n} \, \mvec{m}{2,k,n} \dotsc \mvec{m}{L,k,n} \,]} comprises the beamformers associated with the user \me{k} for \me{n^\mathrm{th}} sub-channel transmission. It can be easily extended for user specific streams \me{L_k} instead of using the common \me{L} streams for all users. The expression for \me{t_{l,k,n}} is due to the assumption of Gaussian signaling, so that the maximum achievable rate is \me{\log_2(1 + \gamma_{l,k,n})} for a given \ac{SINR} \me{\gamma_{l,k,n}}. In \eqref{eqn-4.3}, we consider the sum power constraint for each \ac{BS} across all sub-channels. The proposed solution presented in this section also applies to the sub-channel power constraint by replacing \eqref{eqn-4.3} by corresponding formulations. Before proceeding further, we note that the constraint in \eqref{eqn-4.2} is handled implicitly by the definition of the \me{q}-norm in the objective of \eqref{eqn-3}. As a proof, suppose that \me{t_k>Q_k} for a certain \me{k} at optimum, i.e., \me{-{v}_k=t_k-Q_k>0}. Then there exists \me{\delta_k>0} such that \me{-{v}^{\prime}_k=t^{\prime}_k-Q_k<-{v}_k} where \me{t^{\prime}_k=t_k-\delta_k}. Since \me{\|\tilde{\mbf{v}}\|_q=\| |\tilde{\mbf{v}}| \|_q=\||-\tilde{\mbf{v}}|\|_q}, this means that the newly created vector \me{\mbf{t}^{\prime}} achieves a smaller objective which contradicts with the fact that an optimal solution has been obtained. We comment on the choice of  the norm \me{q} on the objective as below \cite{berry2004cross,qps_cioffi}.
\begin{itemize}
\item With \me{q = 1}, the objective results in greedy allocation \textit{i.e}, emptying the queue of users with good channel condition before considering the users with worse channel conditions. As a special case, it is easy to see that \eqref{eqn-3} reduces to the \ac{Q-WSRM} problem \eqref{gen_sum} when the queue size is large enough for all users.
\item With \me{q = 2}, the objective prioritizes users with higher queued packets before considering the users with a smaller number of backlogged packets. This is ideal for the delay limited scenario when the packet arrival rates of the users are similar, since the backlogged packets is proportional to the delay in the transmission following the Little's law \cite{neely2010stochastic}.
\item With \(q = \infty \), the objective minimizes the maximum number of queued packets among users with the current transmission, thereby providing queue fairness by allocating the resources proportional to the number of backlogged packets.
\end{itemize}
